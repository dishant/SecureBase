<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>8.4.&nbsp;Master</title><link rel="stylesheet" type="text/css" href="../css/freebsd_docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="book.html" title=""><link rel="up" href="architecture.html" title="Chapter&nbsp;8.&nbsp;Architecture"><link rel="prev" href="client.filter.html" title="8.3.&nbsp;Client Filters"><link rel="next" href="regionserver.arch.html" title="8.5.&nbsp;RegionServer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.4.&nbsp;Master</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="client.filter.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;8.&nbsp;Architecture</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="regionserver.arch.html">Next</a></td></tr></table><hr></div><div class="section" title="8.4.&nbsp;Master"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="master"></a>8.4.&nbsp;Master</h2></div></div></div><p><code class="code">HMaster</code> is the implementation of the Master Server.  The Master server
       is responsible for monitoring all RegionServer instances in the cluster, and is
       the interface for all metadata changes.  In a distributed cluster, the Master typically runs on the <a class="xref" href="arch.hdfs.html#arch.hdfs.nn" title="8.7.1.&nbsp;NameNode">Section&nbsp;8.7.1, &#8220;NameNode&#8221;</a>.
       </p><div class="section" title="8.4.1.&nbsp;Startup Behavior"><div class="titlepage"><div><div><h3 class="title"><a name="master.startup"></a>8.4.1.&nbsp;Startup Behavior</h3></div></div></div><p>If run in a multi-Master environment, all Masters compete to run the cluster.  If the active
         Master loses it's lease in ZooKeeper (or the Master shuts down), then then the remaining Masters jostle to 
         take over the Master role.
         </p></div><div class="section" title="8.4.2.&nbsp;Interface"><div class="titlepage"><div><div><h3 class="title"><a name="master.api"></a>8.4.2.&nbsp;Interface</h3></div></div></div><p>The methods exposed by <code class="code">HMasterInterface</code> are primarily metadata-oriented methods:
         </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Table (createTable, modifyTable, removeTable, enable, disable)
            </li><li class="listitem">ColumnFamily (addColumn, modifyColumn, removeColumn) 
            </li><li class="listitem">Region (move, assign, unassign)
            </li></ul></div><p>
         For example, when the <code class="code">HBaseAdmin</code> method <code class="code">disableTable</code> is invoked, it is serviced by the Master server. 
         </p></div><div class="section" title="8.4.3.&nbsp;Processes"><div class="titlepage"><div><div><h3 class="title"><a name="master.processes"></a>8.4.3.&nbsp;Processes</h3></div></div></div><p>The Master runs several background threads:
         </p><div class="section" title="8.4.3.1.&nbsp;LoadBalancer"><div class="titlepage"><div><div><h4 class="title"><a name="master.processes.loadbalancer"></a>8.4.3.1.&nbsp;LoadBalancer</h4></div></div></div><p>Periodically, and when there are not any regions in transition,
             a load balancer will run and move regions around to balance cluster load.
             See <a class="xref" href="important_configurations.html#balancer_config" title="2.8.3.1.&nbsp;Balancer">Section&nbsp;2.8.3.1, &#8220;Balancer&#8221;</a> for configuring this property.</p></div><div class="section" title="8.4.3.2.&nbsp;CatalogJanitor"><div class="titlepage"><div><div><h4 class="title"><a name="master.processes.catalog"></a>8.4.3.2.&nbsp;CatalogJanitor</h4></div></div></div><p>Periodically checks and cleans up the .META. table.  See <a class="xref" href="architecture.html#arch.catalog.meta" title="8.1.2.&nbsp;META">Section&nbsp;8.1.2, &#8220;META&#8221;</a> for more information on META.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="client.filter.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="architecture.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="regionserver.arch.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.3.&nbsp;Client Filters&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;8.5.&nbsp;RegionServer</td></tr></table></div></body></html>