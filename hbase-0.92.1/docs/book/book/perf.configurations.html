<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>10.4.&nbsp;HBase Configurations</title><link rel="stylesheet" type="text/css" href="../css/freebsd_docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="book.html" title=""><link rel="up" href="performance.html" title="Chapter&nbsp;10.&nbsp;Performance Tuning"><link rel="prev" href="jvm.html" title="10.3.&nbsp;Java"><link rel="next" href="perf.schema.html" title="10.5.&nbsp;Schema Design"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.4.&nbsp;HBase Configurations</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="jvm.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;10.&nbsp;Performance Tuning</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="perf.schema.html">Next</a></td></tr></table><hr></div><div class="section" title="10.4.&nbsp;HBase Configurations"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perf.configurations"></a>10.4.&nbsp;HBase Configurations</h2></div></div></div><p>See <a class="xref" href="important_configurations.html#recommended_configurations" title="2.8.2.&nbsp;Recommended Configuations">Section&nbsp;2.8.2, &#8220;Recommended Configuations&#8221;</a>.</p><div class="section" title="10.4.1.&nbsp;Number of Regions"><div class="titlepage"><div><div><h3 class="title"><a name="perf.number.of.regions"></a>10.4.1.&nbsp;Number of Regions</h3></div></div></div><p>The number of regions for an HBase table is driven by the <a class="xref" href="important_configurations.html#bigger.regions" title="2.8.2.6.&nbsp;Bigger Regions">Section&nbsp;2.8.2.6, &#8220;Bigger Regions&#8221;</a>. Also, see the architecture
          section on <a class="xref" href="regions.arch.html#arch.regions.size" title="8.6.1.&nbsp;Region Size">Section&nbsp;8.6.1, &#8220;Region Size&#8221;</a></p><p>A lower number of regions is preferred, generally in the range of 20 to low-hundreds
       per RegionServer.  Adjust the regionsize as appropriate to achieve this number. 
       </p><p>For the 0.90.x codebase, the upper-bound of regionsize is about 4Gb.
       For 0.92.x codebase, due to the HFile v2 change much larger regionsizes can be supported (e.g., 20Gb).
       </p><p>You may need to experiment with this setting based on your hardware configuration and application needs.
       </p></div><div class="section" title="10.4.2.&nbsp;Managing Compactions"><div class="titlepage"><div><div><h3 class="title"><a name="perf.compactions.and.splits"></a>10.4.2.&nbsp;Managing Compactions</h3></div></div></div><p>For larger systems, managing <a class="link" href="important_configurations.html#disable.splitting" title="2.8.2.7.&nbsp;Managed Splitting">compactions and splits</a> may be
      something you want to consider.</p></div><div class="section" title="10.4.3.&nbsp;hbase.regionserver.handler.count"><div class="titlepage"><div><div><h3 class="title"><a name="perf.handlers"></a>10.4.3.&nbsp;<code class="varname">hbase.regionserver.handler.count</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hbase.regionserver.handler.count" title="hbase.regionserver.handler.count"><code class="varname">hbase.regionserver.handler.count</code></a>. 
            This setting in essence sets how many requests are
            concurrently being processed inside the RegionServer at any
            one time.  If set too high, then throughput may suffer as
            the concurrent requests contend; if set too low, requests will
            be stuck waiting to get into the machine.  You can get a
            sense of whether you have too little or too many handlers by
            <a class="xref" href="trouble.log.html#rpc.logging" title="11.2.2.1.&nbsp;Enabling RPC-level logging">Section&nbsp;11.2.2.1, &#8220;Enabling RPC-level logging&#8221;</a>
            on an individual RegionServer then tailing its logs (Queued requests
            consume memory).</p></div><div class="section" title="10.4.4.&nbsp;hfile.block.cache.size"><div class="titlepage"><div><div><h3 class="title"><a name="perf.hfile.block.cache.size"></a>10.4.4.&nbsp;<code class="varname">hfile.block.cache.size</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hfile.block.cache.size" title="hfile.block.cache.size"><code class="varname">hfile.block.cache.size</code></a>. 
        A memory setting for the RegionServer process.
        </p></div><div class="section" title="10.4.5.&nbsp;hbase.regionserver.global.memstore.upperLimit"><div class="titlepage"><div><div><h3 class="title"><a name="perf.rs.memstore.upperlimit"></a>10.4.5.&nbsp;<code class="varname">hbase.regionserver.global.memstore.upperLimit</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hbase.regionserver.global.memstore.upperLimit" title="hbase.regionserver.global.memstore.upperLimit"><code class="varname">hbase.regionserver.global.memstore.upperLimit</code></a>.  
        This memory setting is often adjusted for the RegionServer process depending on needs.
        </p></div><div class="section" title="10.4.6.&nbsp;hbase.regionserver.global.memstore.lowerLimit"><div class="titlepage"><div><div><h3 class="title"><a name="perf.rs.memstore.lowerlimit"></a>10.4.6.&nbsp;<code class="varname">hbase.regionserver.global.memstore.lowerLimit</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hbase.regionserver.global.memstore.lowerLimit" title="hbase.regionserver.global.memstore.lowerLimit"><code class="varname">hbase.regionserver.global.memstore.lowerLimit</code></a>.  
        This memory setting is often adjusted for the RegionServer process depending on needs.
        </p></div><div class="section" title="10.4.7.&nbsp;hbase.hstore.blockingStoreFiles"><div class="titlepage"><div><div><h3 class="title"><a name="perf.hstore.blockingstorefiles"></a>10.4.7.&nbsp;<code class="varname">hbase.hstore.blockingStoreFiles</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hbase.hstore.blockingStoreFiles" title="hbase.hstore.blockingStoreFiles"><code class="varname">hbase.hstore.blockingStoreFiles</code></a>.  
        If there is blocking in the RegionServer logs, increasing this can help.
        </p></div><div class="section" title="10.4.8.&nbsp;hbase.hregion.memstore.block.multiplier"><div class="titlepage"><div><div><h3 class="title"><a name="perf.hregion.memstore.block.multiplier"></a>10.4.8.&nbsp;<code class="varname">hbase.hregion.memstore.block.multiplier</code></h3></div></div></div><p>See <a class="xref" href="config.files.html#hbase.hregion.memstore.block.multiplier" title="hbase.hregion.memstore.block.multiplier"><code class="varname">hbase.hregion.memstore.block.multiplier</code></a>.  
        If there is enough RAM, increasing this can help.  
        </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="jvm.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="performance.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="perf.schema.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">10.3.&nbsp;Java&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;10.5.&nbsp;Schema Design</td></tr></table></div></body></html>